(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["BigMouse"] = factory();
	else
		root["BigMouse"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(1);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _helpers = __webpack_require__(2);\n\n/**\n * BigMouse Core API\n * The minimalist API it exposes consist of three single methods: configure, enable and disable.\n * @type {{configure: Function({plugins, selector, draw}), enable: Function, disable: Function}}\n */\nvar BigMouse = {\n    configure: function configure(options) {\n\n        this.options = (0, _helpers.normalize)(this, options);\n\n        this.canvas = (0, _helpers.createCanvas)(this);\n\n        (0, _helpers.addEventListeners)(this);\n\n        (0, _helpers.loop)(this);\n    },\n    enable: function enable() {\n\n        this.enabled = true;\n    },\n    disable: function disable() {\n\n        this.enabled = false;\n    }\n};\n\n// Cheese/Mouse Freak Alias\n/* NOTE: experimental and not production ready. Keep in touch for stable release */\n\nBigMouse.cheese = BigMouse.configure;\nBigMouse.feed = BigMouse.enable;\nBigMouse.trap = BigMouse.disable;\n\n// Note: not using \"export default\" es6 to bypass .default when using library globally from window scope.\n/* export a singleton instance */\nmodule.exports = exports = Object.create(BigMouse);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29yZS5qcz83ZWI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIE5PVEU6IGV4cGVyaW1lbnRhbCBhbmQgbm90IHByb2R1Y3Rpb24gcmVhZHkuIEtlZXAgaW4gdG91Y2ggZm9yIHN0YWJsZSByZWxlYXNlICovXG5cbmltcG9ydCB7bm9ybWFsaXplLCBjcmVhdGVDYW52YXMsIGFkZEV2ZW50TGlzdGVuZXJzLCBsb29wfSBmcm9tICcuL2hlbHBlcnMnO1xuXG4vKipcbiAqIEJpZ01vdXNlIENvcmUgQVBJXG4gKiBUaGUgbWluaW1hbGlzdCBBUEkgaXQgZXhwb3NlcyBjb25zaXN0IG9mIHRocmVlIHNpbmdsZSBtZXRob2RzOiBjb25maWd1cmUsIGVuYWJsZSBhbmQgZGlzYWJsZS5cbiAqIEB0eXBlIHt7Y29uZmlndXJlOiBGdW5jdGlvbih7cGx1Z2lucywgc2VsZWN0b3IsIGRyYXd9KSwgZW5hYmxlOiBGdW5jdGlvbiwgZGlzYWJsZTogRnVuY3Rpb259fVxuICovXG5jb25zdCBCaWdNb3VzZSA9ICB7XG5cbiAgICBjb25maWd1cmUob3B0aW9ucyl7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gbm9ybWFsaXplKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHRoaXMpO1xuXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMpO1xuXG4gICAgICAgIGxvb3AodGhpcyk7XG5cbiAgICB9LFxuXG4gICAgZW5hYmxlKCl7XG5cbiAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZGlzYWJsZSgpe1xuXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbn07XG5cbi8vIENoZWVzZS9Nb3VzZSBGcmVhayBBbGlhc1xuQmlnTW91c2UuY2hlZXNlID0gQmlnTW91c2UuY29uZmlndXJlO1xuQmlnTW91c2UuZmVlZCA9IEJpZ01vdXNlLmVuYWJsZTtcbkJpZ01vdXNlLnRyYXAgPSBCaWdNb3VzZS5kaXNhYmxlO1xuXG4vLyBOb3RlOiBub3QgdXNpbmcgXCJleHBvcnQgZGVmYXVsdFwiIGVzNiB0byBieXBhc3MgLmRlZmF1bHQgd2hlbiB1c2luZyBsaWJyYXJ5IGdsb2JhbGx5IGZyb20gd2luZG93IHNjb3BlLlxuLyogZXhwb3J0IGEgc2luZ2xldG9uIGluc3RhbmNlICovXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBPYmplY3QuY3JlYXRlKEJpZ01vdXNlKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvY29yZS5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7QUFFQTtBQUNBOzs7Ozs7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXRCQTtBQUNBOzs7O0FBeUJBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.normalize = normalize;\nexports.createCanvas = createCanvas;\nexports.addEventListeners = addEventListeners;\nexports.loop = loop;\n\n//@todo - 11 July 2016 - watch out for memory leak in closures\n//@todo - 11 July 2016 - selector just matches tag elements\n//@todo - 11 July 2016 - hovering an element using a plugin does not render unless you hover it for a while (related to throttle)\n//@todo - 11 July 2016 - unit test suite\n\n/**\n * Parse and normalize default options\n * @param self BigMouse instance\n * @param options The input options\n * @returns {plugins, draw, selector}\n */\nfunction normalize(self, options) {\n\n    self.enabled = false;\n\n    // Alias\n    if (options.cheeses) options.plugins = options.cheeses;\n    if (options.portions) options.selector = options.portions;\n    if (options.harborage) options.draw = options.harborage;\n\n    if (options.selector) options.selector = options.selector.toLowerCase();\n\n    return options;\n}\n\n/**\n * Append a canvas element into the HTML body document sizing the whole page\n * @param self BigMouse instance\n * @returns {{el: Element, ctx: CanvasRenderingContext2D}}\n */\nfunction createCanvas(self) {\n\n    var canvas = document.createElement('canvas');\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    canvas.setAttribute(\"style\", \"position:absolute;top:0;left:0;pointer-events:none;\");\n\n    document.body.appendChild(canvas);\n\n    self.currentElement = canvas;\n\n    return { el: canvas, ctx: canvas.getContext(\"2d\") };\n}\n\n/**\n * Attach resize and mousemove event handler listeners\n * @param self BigMouse instance\n */\nfunction addEventListeners(self) {\n\n    self.mouseCoords = { x: self.canvas.el.width / 2, y: self.canvas.el.height / 2 };\n\n    window.addEventListener('mousemove', throttle(onMouseMove(self), function () {\n        return self.debouncing ? 0 : 150;\n    }, { trailing: false }));\n\n    window.addEventListener('resize', throttle(onResize(self), function () {\n        return 150;\n    }, { trailing: false }));\n}\n\n/**\n * Kick off the infinite render loop\n * @param self\n */\nfunction loop(self) {\n\n    self.loopID = requestAnimationFrame(function () {\n        return loop(self);\n    });\n\n    if (!self.enabled || !self.painter) return;\n\n    self.painter(self);\n}\n\n/**\n * Retrieve the current mouse coordinates position\n * @param canvasDOM\n * @param event\n * @returns {{x: number, y: number}}\n */\nfunction getCurrentMousePos(canvasDOM, event) {\n\n    var rect = canvasDOM.getBoundingClientRect(); // abs. size of element\n    var scaleX = canvasDOM.width / rect.width; // relationship bitmap vs. element for X\n    var scaleY = canvasDOM.height / rect.height; // relationship bitmap vs. element for Y\n\n    return {\n        x: (event.clientX - rect.left) * scaleX, // scale mouse coordinates after they have\n        y: (event.clientY - rect.top) * scaleY // been adjusted to be relative to element\n    };\n}\n\n/**\n * Manages plugin calls, if any, from user draw method\n * @param self\n * @param element\n * @returns {Function}\n */\nfunction done(self, element) {\n\n    return function (plugin, options) {\n\n        if (!plugin) {\n\n            self.enabled = false;\n            self.canvas.ctx.clearRect(0, 0, self.canvas.el.width, self.canvas.el.height);\n            return self.currentElement = self.canvas.el;\n        }\n\n        self.currentElement = element;\n\n        self.painter = getPainter(self, self.options.plugins[plugin], options);\n        self.enabled = true;\n    };\n}\n\n/**\n * Request painter method to the active plugin\n * @param self\n * @param plugin\n * @param options\n * @returns {Function}\n */\nfunction getPainter(self, plugin, options) {\n\n    if (!plugin) return;\n\n    return plugin.painter(self, options);\n}\n\n/**\n * The mousemove event handler, in charge of calling user draw method if applicable\n * @param self\n * @returns {Function}\n */\nfunction onMouseMove(self) {\n\n    return function (event) {\n\n        //if(!self.enabled) return;\n\n        if (self.options.draw) {\n\n            self.mouseCoords = getCurrentMousePos(self.canvas.el, event);\n\n            var element = document.elementFromPoint(self.mouseCoords.x, self.mouseCoords.y);\n\n            if (element.isSameNode(self.currentElement)) return;\n\n            if (element && element.tagName.toLowerCase() === self.options.selector) {\n\n                self.debouncing = true;\n                self.options.draw(element, done(self, element));\n            } else {\n                self.debouncing = false;\n                done(self)();\n            }\n        }\n    };\n}\n\n/**\n * The resize event handler, in charge of resizing canvas size to fit full screen\n * @param self\n * @returns {Function}\n */\nfunction onResize(self) {\n\n    return function (event) {\n\n        self.canvas.el.width = window.innerWidth;\n        self.canvas.el.height = window.innerHeight;\n    };\n}\n\n/**\n * Underscore implementation of throttle function modified to accept a function as the wait parameter.\n * This allows to calculate waiting time dynamically.\n * @param func\n * @param wait\n * @param options\n * @returns {throttled}\n */\nfunction throttle(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function later() {\n        previous = options.leading === false ? 0 : _.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n\n    var throttled = function throttled() {\n        var now = new Date().getTime();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait() - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait()) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n\n    return throttled;\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaGVscGVycy5qcz9iMzhmIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy9AdG9kbyAtIDExIEp1bHkgMjAxNiAtIHdhdGNoIG91dCBmb3IgbWVtb3J5IGxlYWsgaW4gY2xvc3VyZXNcbi8vQHRvZG8gLSAxMSBKdWx5IDIwMTYgLSBzZWxlY3RvciBqdXN0IG1hdGNoZXMgdGFnIGVsZW1lbnRzXG4vL0B0b2RvIC0gMTEgSnVseSAyMDE2IC0gaG92ZXJpbmcgYW4gZWxlbWVudCB1c2luZyBhIHBsdWdpbiBkb2VzIG5vdCByZW5kZXIgdW5sZXNzIHlvdSBob3ZlciBpdCBmb3IgYSB3aGlsZSAocmVsYXRlZCB0byB0aHJvdHRsZSlcbi8vQHRvZG8gLSAxMSBKdWx5IDIwMTYgLSB1bml0IHRlc3Qgc3VpdGVcblxuLyoqXG4gKiBQYXJzZSBhbmQgbm9ybWFsaXplIGRlZmF1bHQgb3B0aW9uc1xuICogQHBhcmFtIHNlbGYgQmlnTW91c2UgaW5zdGFuY2VcbiAqIEBwYXJhbSBvcHRpb25zIFRoZSBpbnB1dCBvcHRpb25zXG4gKiBAcmV0dXJucyB7cGx1Z2lucywgZHJhdywgc2VsZWN0b3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoc2VsZiwgb3B0aW9ucyl7XG5cbiAgICBzZWxmLmVuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vIEFsaWFzXG4gICAgaWYob3B0aW9ucy5jaGVlc2VzKSBvcHRpb25zLnBsdWdpbnMgPSBvcHRpb25zLmNoZWVzZXM7XG4gICAgaWYob3B0aW9ucy5wb3J0aW9ucykgb3B0aW9ucy5zZWxlY3RvciA9IG9wdGlvbnMucG9ydGlvbnM7XG4gICAgaWYob3B0aW9ucy5oYXJib3JhZ2UpIG9wdGlvbnMuZHJhdyA9IG9wdGlvbnMuaGFyYm9yYWdlO1xuXG4gICAgaWYob3B0aW9ucy5zZWxlY3Rvcikgb3B0aW9ucy5zZWxlY3RvciA9IG9wdGlvbnMuc2VsZWN0b3IudG9Mb3dlckNhc2UoKTtcblxuICAgIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIEFwcGVuZCBhIGNhbnZhcyBlbGVtZW50IGludG8gdGhlIEhUTUwgYm9keSBkb2N1bWVudCBzaXppbmcgdGhlIHdob2xlIHBhZ2VcbiAqIEBwYXJhbSBzZWxmIEJpZ01vdXNlIGluc3RhbmNlXG4gKiBAcmV0dXJucyB7e2VsOiBFbGVtZW50LCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW52YXMoc2VsZil7XG5cbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwicG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3BvaW50ZXItZXZlbnRzOm5vbmU7XCIpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gICAgc2VsZi5jdXJyZW50RWxlbWVudCA9IGNhbnZhcztcblxuICAgIHJldHVybiB7ZWw6Y2FudmFzLCBjdHg6IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIil9O1xufVxuXG4vKipcbiAqIEF0dGFjaCByZXNpemUgYW5kIG1vdXNlbW92ZSBldmVudCBoYW5kbGVyIGxpc3RlbmVyc1xuICogQHBhcmFtIHNlbGYgQmlnTW91c2UgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHNlbGYpe1xuXG4gICAgc2VsZi5tb3VzZUNvb3JkcyA9IHt4OiBzZWxmLmNhbnZhcy5lbC53aWR0aCAvIDIsIHk6IHNlbGYuY2FudmFzLmVsLmhlaWdodC8yfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aHJvdHRsZShvbk1vdXNlTW92ZShzZWxmKSwgKCkgPT4gc2VsZi5kZWJvdW5jaW5nID8gMCA6IDE1MCwge3RyYWlsaW5nOmZhbHNlfSkpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRocm90dGxlKG9uUmVzaXplKHNlbGYpLCAoKSA9PiAxNTAsIHt0cmFpbGluZzpmYWxzZX0pKTtcbn1cblxuLyoqXG4gKiBLaWNrIG9mZiB0aGUgaW5maW5pdGUgcmVuZGVyIGxvb3BcbiAqIEBwYXJhbSBzZWxmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb29wKHNlbGYpe1xuXG4gICAgc2VsZi5sb29wSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PiBsb29wKHNlbGYpKTtcblxuICAgIGlmKCFzZWxmLmVuYWJsZWQgfHwgIXNlbGYucGFpbnRlcikgcmV0dXJuO1xuXG4gICAgc2VsZi5wYWludGVyKHNlbGYpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBjdXJyZW50IG1vdXNlIGNvb3JkaW5hdGVzIHBvc2l0aW9uXG4gKiBAcGFyYW0gY2FudmFzRE9NXG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fVxuICovXG5mdW5jdGlvbiAgZ2V0Q3VycmVudE1vdXNlUG9zKGNhbnZhc0RPTSwgZXZlbnQpIHtcblxuICAgIGNvbnN0IHJlY3QgPSBjYW52YXNET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIGFicy4gc2l6ZSBvZiBlbGVtZW50XG4gICAgY29uc3Qgc2NhbGVYID0gY2FudmFzRE9NLndpZHRoIC8gcmVjdC53aWR0aDsgICAgLy8gcmVsYXRpb25zaGlwIGJpdG1hcCB2cy4gZWxlbWVudCBmb3IgWFxuICAgIGNvbnN0IHNjYWxlWSA9IGNhbnZhc0RPTS5oZWlnaHQgLyByZWN0LmhlaWdodDsgIC8vIHJlbGF0aW9uc2hpcCBiaXRtYXAgdnMuIGVsZW1lbnQgZm9yIFlcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIHNjYWxlWCwgICAvLyBzY2FsZSBtb3VzZSBjb29yZGluYXRlcyBhZnRlciB0aGV5IGhhdmVcbiAgICAgICAgeTogKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCkgKiBzY2FsZVkgICAgIC8vIGJlZW4gYWRqdXN0ZWQgdG8gYmUgcmVsYXRpdmUgdG8gZWxlbWVudFxuICAgIH1cbn1cblxuLyoqXG4gKiBNYW5hZ2VzIHBsdWdpbiBjYWxscywgaWYgYW55LCBmcm9tIHVzZXIgZHJhdyBtZXRob2RcbiAqIEBwYXJhbSBzZWxmXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBkb25lKHNlbGYsIGVsZW1lbnQpe1xuXG4gICAgcmV0dXJuIChwbHVnaW4sIG9wdGlvbnMpID0+IHtcblxuICAgICAgICBpZighcGx1Z2luKXtcblxuICAgICAgICAgICAgc2VsZi5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmNhbnZhcy5jdHguY2xlYXJSZWN0KDAsIDAsIHNlbGYuY2FudmFzLmVsLndpZHRoLCBzZWxmLmNhbnZhcy5lbC5oZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY3VycmVudEVsZW1lbnQgPSBzZWxmLmNhbnZhcy5lbDtcblxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5jdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgc2VsZi5wYWludGVyID0gZ2V0UGFpbnRlcihzZWxmLCBzZWxmLm9wdGlvbnMucGx1Z2luc1twbHVnaW5dLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5lbmFibGVkID0gdHJ1ZTtcblxuICAgIH1cbn1cblxuLyoqXG4gKiBSZXF1ZXN0IHBhaW50ZXIgbWV0aG9kIHRvIHRoZSBhY3RpdmUgcGx1Z2luXG4gKiBAcGFyYW0gc2VsZlxuICogQHBhcmFtIHBsdWdpblxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gZ2V0UGFpbnRlcihzZWxmLCBwbHVnaW4sIG9wdGlvbnMpe1xuXG4gICAgaWYoIXBsdWdpbikgcmV0dXJuO1xuXG4gICAgcmV0dXJuIHBsdWdpbi5wYWludGVyKHNlbGYsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFRoZSBtb3VzZW1vdmUgZXZlbnQgaGFuZGxlciwgaW4gY2hhcmdlIG9mIGNhbGxpbmcgdXNlciBkcmF3IG1ldGhvZCBpZiBhcHBsaWNhYmxlXG4gKiBAcGFyYW0gc2VsZlxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBvbk1vdXNlTW92ZShzZWxmKXtcblxuICAgIHJldHVybiBldmVudCA9PiB7XG5cbiAgICAgICAgLy9pZighc2VsZi5lbmFibGVkKSByZXR1cm47XG5cbiAgICAgICAgaWYoc2VsZi5vcHRpb25zLmRyYXcpe1xuXG4gICAgICAgICAgICBzZWxmLm1vdXNlQ29vcmRzID0gZ2V0Q3VycmVudE1vdXNlUG9zKHNlbGYuY2FudmFzLmVsLCBldmVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHNlbGYubW91c2VDb29yZHMueCwgc2VsZi5tb3VzZUNvb3Jkcy55KTtcblxuICAgICAgICAgICAgaWYoZWxlbWVudC5pc1NhbWVOb2RlKHNlbGYuY3VycmVudEVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmKGVsZW1lbnQgJiYgZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHNlbGYub3B0aW9ucy5zZWxlY3Rvcil7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRlYm91bmNpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYub3B0aW9ucy5kcmF3KGVsZW1lbnQsIGRvbmUoc2VsZiwgZWxlbWVudCkpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHNlbGYuZGVib3VuY2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRvbmUoc2VsZikoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH1cblxuXG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSByZXNpemUgZXZlbnQgaGFuZGxlciwgaW4gY2hhcmdlIG9mIHJlc2l6aW5nIGNhbnZhcyBzaXplIHRvIGZpdCBmdWxsIHNjcmVlblxuICogQHBhcmFtIHNlbGZcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gb25SZXNpemUoc2VsZil7XG5cbiAgICByZXR1cm4gZXZlbnQgPT4ge1xuXG4gICAgICAgIHNlbGYuY2FudmFzLmVsLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHNlbGYuY2FudmFzLmVsLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIH1cbn1cblxuLyoqXG4gKiBVbmRlcnNjb3JlIGltcGxlbWVudGF0aW9uIG9mIHRocm90dGxlIGZ1bmN0aW9uIG1vZGlmaWVkIHRvIGFjY2VwdCBhIGZ1bmN0aW9uIGFzIHRoZSB3YWl0IHBhcmFtZXRlci5cbiAqIFRoaXMgYWxsb3dzIHRvIGNhbGN1bGF0ZSB3YWl0aW5nIHRpbWUgZHluYW1pY2FsbHkuXG4gKiBAcGFyYW0gZnVuY1xuICogQHBhcmFtIHdhaXRcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7dGhyb3R0bGVkfVxuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIHRpbWVvdXQsIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBfLm5vdygpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcblxuICAgIHZhciB0aHJvdHRsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCgpIC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KCkpIHtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHRocm90dGxlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICBwcmV2aW91cyA9IDA7XG4gICAgICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaGVscGVycy5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFZQTtBQW1CQTtBQW1CQTtBQWFBO0FBQ0E7Ozs7Ozs7Ozs7OztBQXBEQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ])
});
;